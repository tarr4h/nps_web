(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{27753:(e,t,s)=>{Promise.resolve().then(s.bind(s,35965))},35965:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(95155),l=s(81252),a=s(12115),n=s(6874),i=s.n(n),c=s(52363);let d=e=>{var t,s;let{question:l,answer:a}=e;if(!a||0===a.length)return(0,r.jsx)("p",{className:"text-gray-500 italic",children:"답변 없음"});let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return null;let s=a.includes(e.id);return(0,r.jsxs)("div",{style:{marginLeft:"".concat(1.5*t,"rem")},className:"mt-2",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"w-5 mr-2 flex-shrink-0",children:s&&(0,r.jsx)("svg",{className:"h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"".concat(s?"font-semibold text-blue-600":"text-gray-700"),children:e.text||"알 수 없는 옵션"})]}),e.children&&(0,r.jsx)("div",{children:e.children.map(e=>n(e,t+1))})]},e.id)};switch(l.type){case c.xi.MULTIPLE_CHOICE:case c.xi.SINGLE_CHOICE:return(0,r.jsx)("div",{children:null==(t=l.props.options)?void 0:t.map(e=>n(e))});case c.xi.TEXT_ENTRY:return(0,r.jsx)("p",{className:"text-gray-800 bg-gray-100 p-2 rounded whitespace-pre-wrap break-words",children:a[0]});case c.xi.SIDE_BY_SIDE:{let e=l.props,t=(null!=(s=e.rows)?s:[]).map(e=>({id:e.id,label:e.text}));if(!e||!t||!e.columns)return(0,r.jsx)("p",{className:"text-gray-500",children:"질문 형식이 올바르지 않습니다."});let n={};return a&&Array.isArray(a)&&a.forEach(e=>{let t=e.split(":");t.length>=2&&(n[t[0]]=t[1])}),(0,r.jsx)("div",{className:"relative border rounded-md p-4 bg-white",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border-collapse",children:[(0,r.jsxs)("thead",{className:"bg-gray-50",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-[200px] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-nowrap"}),e.columns.map(e=>(0,r.jsx)("th",{colSpan:e.subColumns.length,className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-l",children:e.text},e.id))]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-[200px] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-nowrap"}),e.columns.flatMap(e=>e.subColumns.map(e=>(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-l",children:e.label},e.id)))]})]}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.label}),e.columns.flatMap(e=>e.subColumns.map(e=>(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center border-l",children:n[t.id]===e.id&&(0,r.jsx)("svg",{className:"h-6 w-6 text-blue-500 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})},e.id)))]},t.id))})]})})})}default:return(0,r.jsx)("p",{className:"text-gray-500",children:"알 수 없는 질문 유형"})}},o={":submissionId":function(e){let{params:t}=e,s=null==t?void 0:t.submissionId,[l,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[o,x]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{if(s)try{let e=JSON.parse(localStorage.getItem("surveyResults")||"[]").find(e=>e.submissionId===s);if(n(e||null),e){let t=JSON.parse(localStorage.getItem("savedSurveys")||"[]").find(t=>t.id===e.surveyId);c(t||null)}}catch(e){console.error("결과 또는 설문 로딩 중 오류 발생:",e)}finally{x(!1)}},[s]),o)?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l&&i?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:l.title}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["제출일: ",new Date(l.submittedAt).toLocaleString()]}),(0,r.jsx)("div",{className:"space-y-8 mt-8",children:i.questions.map((e,t)=>(0,r.jsxs)("div",{className:"p-6 border rounded-lg bg-gray-50",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:[t+1,". ",e.text]}),(0,r.jsx)(d,{question:e,answer:l.answers[e.id]})]},e.id))}),(0,r.jsx)("div",{className:"mt-10 text-center",children:(0,r.jsx)("a",{href:"#/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"결과 목록으로 돌아가기"})})]})}):(0,r.jsx)("div",{className:"text-center py-10",children:"결과를 찾을 수 없습니다."})},"":function(e){let[t,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0),c=()=>{try{let e=JSON.parse(localStorage.getItem("surveyResults")||"[]");e.sort((e,t)=>new Date(t.submittedAt).getTime()-new Date(e.submittedAt).getTime()),s(e)}catch(e){console.error("설문 결과 로딩 중 오류 발생:",e)}finally{n(!1)}};(0,a.useEffect)(()=>{c()},[]);let d=e=>{let t=(window.screen.width-800)/2,s=(window.screen.height-700)/2,r="width=".concat(800,",height=").concat(700,",left=").concat(t,",top=").concat(s,",scrollbars=yes,resizable=yes");window.open("#/".concat(e,"?popup=true"),"survey-result-".concat(e),r)},o=e=>{if(confirm("정말로 이 설문 결과를 삭제하시겠습니까?"))try{let t=JSON.parse(localStorage.getItem("surveyResults")||"[]").filter(t=>t.submissionId!==e);localStorage.setItem("surveyResults",JSON.stringify(t)),s(t)}catch(e){console.error("설문 결과 삭제 중 오류 발생:",e),alert("결과 삭제 중 오류가 발생했습니다.")}};return l?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"설문 결과 목록"}),t.length>0?(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map(e=>(0,r.jsx)("li",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-lg text-blue-600",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["제출일: ",new Date(e.submittedAt).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>d(e.submissionId),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"결과 보기"}),(0,r.jsx)("button",{onClick:()=>o(e.submissionId),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"삭제"})]})]})},e.submissionId))})}):(0,r.jsxs)("div",{className:"text-center py-12 px-6 bg-gray-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"제출된 설문 결과가 없습니다."}),(0,r.jsxs)("p",{className:"mt-2 text-gray-500",children:["먼저 ",(0,r.jsx)(i(),{href:"/survey/test",className:"text-blue-600 hover:underline",children:"설문 테스트"}),"에서 설문을 완료해주세요."]})]})]})}},x=()=>(0,r.jsx)("div",{children:"페이지를 찾을 수 없습니다."});function u(){return(0,r.jsx)(l.r,{routes:o,fallback:x})}},52363:(e,t,s)=>{"use strict";s.d(t,{AT:()=>r,C7:()=>c,ER:()=>i,OT:()=>n,Og:()=>o,P_:()=>x,a4:()=>l,wx:()=>d,xi:()=>a});let r=["ko","en","ja","zh"],l={ko:"한",en:"영",ja:"일",zh:"중"};var a=function(e){return e.SINGLE_CHOICE="SINGLE_CHOICE",e.SINGLE_CHOICE_2="SINGLE_CHOICE_2",e.SIDE_BY_SIDE="SIDE_BY_SIDE",e.TEXT_ENTRY="TEXT_ENTRY",e.MULTIPLE_CHOICE="MULTIPLE_CHOICE",e.MULTIPLE_CHOICE_2="MULTIPLE_CHOICE_2",e.GROUP="GROUP",e.CHECKBOX="CHECKBOX",e}({});function n(e){return"SINGLE_CHOICE"===e.type}function i(e){return"SIDE_BY_SIDE"===e.type}function c(e){return"MULTIPLE_CHOICE"===e.type}function d(e){return"GROUP"===e.type}let o={UNCLASSIFIED:"미분류",KE:"KE설문지",STAFF:"STAFF설문지",JV:"JV설문지",DOMESTIC:"국내선 설문지"},x=[o.UNCLASSIFIED,o.KE,o.STAFF,o.JV,o.DOMESTIC]},81252:(e,t,s)=>{"use strict";s.d(t,{r:()=>n});var r=s(95155),l=s(12115);let a=(e,t)=>{let s=[],r=e.replace(/([.+*?^[\]$|])/g,"\\$1").replace(/\((?!\?)/g,"(").replace(/\)/g,")").replace(/:([a-zA-Z0-9_]+)/g,(e,t)=>(s.push(t),"([^/]+)"));try{let l=t.match(new RegExp("^".concat(r,"$")));if(!l)return null;let a=l.slice(1).reduce((e,t,r)=>(e[s[r]]=t,e),{});return{route:e,params:a}}catch(t){return console.error("Invalid regex for pattern:",e,t),null}},n=e=>{let{routes:t,fallback:s}=e,[n,i]=(0,l.useState)(()=>window.location.hash.replace(/^#\/?/,"").split("?")[0]);(0,l.useEffect)(()=>{let e=()=>{i(window.location.hash.replace(/^#\/?/,"").split("?")[0])};return window.addEventListener("hashchange",e),e(),()=>{window.removeEventListener("hashchange",e)}},[]);let c=(0,l.useMemo)(()=>{for(let e of Object.keys(t).sort((e,t)=>t.length-e.length)){let s=a(e,n);if(s){let e=t[s.route],l={...s.params,params:s.params};return(0,r.jsx)(e,{...l})}}return s?(0,r.jsx)(s,{}):null},[n,t,s]);return(0,r.jsx)(r.Fragment,{children:c})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(27753)),_N_E=e.O()}]);