(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{12528:(e,t,s)=>{Promise.resolve().then(s.bind(s,94697))},51368:(e,t,s)=>{"use strict";let r;s.d(t,{A:()=>n});let l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},a=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));let n=function(e,t,s){if(l.randomUUID&&!t&&!e)return l.randomUUID();let n=(e=e||{}).random??e.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(a)}();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=n[e];return t}return function(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}(n)}},52363:(e,t,s)=>{"use strict";s.d(t,{AT:()=>r,C7:()=>d,ER:()=>n,OT:()=>i,Og:()=>c,P_:()=>x,a4:()=>l,wx:()=>o,xi:()=>a});let r=["ko","en","ja","zh"],l={ko:"한",en:"영",ja:"일",zh:"중"};var a=function(e){return e.SINGLE_CHOICE="SINGLE_CHOICE",e.SINGLE_CHOICE_2="SINGLE_CHOICE_2",e.SIDE_BY_SIDE="SIDE_BY_SIDE",e.TEXT_ENTRY="TEXT_ENTRY",e.MULTIPLE_CHOICE="MULTIPLE_CHOICE",e.MULTIPLE_CHOICE_2="MULTIPLE_CHOICE_2",e.GROUP="GROUP",e.CHECKBOX="CHECKBOX",e}({});function i(e){return"SINGLE_CHOICE"===e.type}function n(e){return"SIDE_BY_SIDE"===e.type}function d(e){return"MULTIPLE_CHOICE"===e.type}function o(e){return"GROUP"===e.type}let c={UNCLASSIFIED:"미분류",KE:"KE설문지",STAFF:"STAFF설문지",JV:"JV설문지",DOMESTIC:"국내선 설문지"},x=[c.UNCLASSIFIED,c.KE,c.STAFF,c.JV,c.DOMESTIC]},94697:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(95155),l=s(12115),a=s(51368),i=s(52363);let n=(0,l.forwardRef)((e,t)=>{let{initialQuestion:s="",initialIsRequired:a=!1,initialOptions:i=[{id:"1",text:"옵션 1"},{id:"2",text:"옵션 2"}]}=e;n.displayName="MultipleChoiceEditor";let[d,o]=(0,l.useState)(i),[c,x]=(0,l.useState)(s),[u,m]=(0,l.useState)(a);(0,l.useImperativeHandle)(t,()=>({getState:()=>({options:d,optionCount:d.length,question:c,isRequired:u})}));let p=(e,t)=>{o(d.map(s=>s.id===e?{...s,text:t}:s))},h=e=>{d.length>1&&o(d.filter(t=>t.id!==e))};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"질문"}),(0,r.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:c,onChange:e=>x(e.target.value),placeholder:"질문을 입력하세요"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"선택 항목"}),(0,r.jsx)("button",{onClick:()=>{o([...d,{id:"option-".concat(Date.now()),text:"옵션 ".concat(d.length+1)}])},className:"text-sm text-blue-600 hover:text-blue-800",children:"+ 항목 추가"})]}),(0,r.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",disabled:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,r.jsx)("input",{type:"text",className:"ml-2 flex-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:e.text,onChange:t=>p(e.id,t.target.value),placeholder:"선택지"}),d.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>h(e.id),className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"required",checked:u,onChange:e=>m(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-700",children:"필수 질문"})]})]})}),d=(0,l.forwardRef)((e,t)=>{let{initialQuestion:s="",initialIsRequired:a=!1,initialRows:i=[{id:"r1",text:"항목 1"},{id:"r2",text:"항목 2"}],initialColumns:n=[{id:"col1",text:"열 1",subColumns:[{id:"c1",label:"옵션 1"}]}]}=e;d.displayName="SideBySideEditor";let[o,c]=(0,l.useState)(s),[x,u]=(0,l.useState)(a),[m,p]=(0,l.useState)(i),[h,b]=(0,l.useState)(n),g=(e,t)=>{p(m.map(s=>s.id===e?{...s,text:t}:s))},y=e=>{m.length>1&&p(m.filter(t=>t.id!==e))},f=(e,t)=>{b(h.map(s=>s.id===e?{...s,text:t}:s))},j=e=>{h.length>1&&b(h.filter(t=>t.id!==e))},N=e=>{b(h.map(t=>{if(t.id===e){let s="".concat(e,"-").concat(Date.now());return{...t,subColumns:[...t.subColumns,{id:s,label:"옵션 ".concat(t.subColumns.length+1)}]}}return t}))},w=(e,t,s)=>{s.stopPropagation(),b(h.map(s=>s.id===e&&s.subColumns.length>1?{...s,subColumns:s.subColumns.filter(e=>e.id!==t)}:s))},v=(e,t,s)=>{b(h.map(r=>r.id===e?{...r,subColumns:r.subColumns.map(e=>e.id===t?{...e,label:s}:e)}:r))};return(0,l.useImperativeHandle)(t,()=>({getState:()=>({question:o,isRequired:x,rows:m,columns:h})})),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"질문"}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"질문을 입력하세요"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"행 관리"}),(0,r.jsx)("button",{onClick:()=>{var e;return y(null==(e=m[m.length-1])?void 0:e.id)},disabled:m.length<=1,className:"p-1 rounded-full bg-red-500 text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"마지막 행 삭제",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,r.jsx)("button",{onClick:()=>{p([...m,{id:"r".concat(Date.now()),text:"항목 ".concat(m.length+1)}])},className:"p-1 rounded-full bg-blue-500 text-white",title:"행 추가",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"열 그룹 관리"}),(0,r.jsx)("button",{onClick:()=>{var e;return j(null==(e=h[h.length-1])?void 0:e.id)},disabled:h.length<=1,className:"p-1 rounded-full bg-red-500 text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"마지막 열 그룹 삭제",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,r.jsx)("button",{onClick:()=>{let e="col".concat(Date.now()),t={id:e,text:"열 ".concat(h.length+1),subColumns:[{id:"".concat(e,"-1"),label:"옵션 1"}]};b([...h,t])},className:"p-1 rounded-full bg-blue-500 text-white",title:"열 그룹 추가",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),(0,r.jsx)("div",{className:"relative border rounded-md p-4 bg-white",children:(0,r.jsx)("div",{className:"overflow-x-auto -mx-4 px-4",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-fixed border-collapse",children:[(0,r.jsxs)("thead",{className:"bg-gray-50",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-[200px] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-nowrap",style:{width:"200px"},children:(0,r.jsx)("span",{children:"항목"})}),h.map(e=>(0,r.jsx)("th",{colSpan:e.subColumns.length,className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider relative group whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,r.jsx)("div",{className:"flex items-center space-x-1",children:(0,r.jsx)("input",{type:"text",className:"w-full text-center border-b border-gray-300 focus:outline-none focus:ring-0 focus:border-blue-500 bg-transparent font-semibold",value:e.text,onChange:t=>f(e.id,t.target.value)})}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>N(e.id),className:"p-0.5 text-xs bg-green-500 text-white rounded hover:bg-green-600",title:"서브 컬럼 추가",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})}),(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation();let s=e.subColumns[e.subColumns.length-1];s&&e.subColumns.length>1&&w(e.id,s.id,t)},className:"p-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e.subColumns.length<=1,title:"마지막 서브 컬럼 삭제",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M20 12H4"})})})]})]})},e.id))]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-2 bg-gray-50",style:{width:"200px"}}),h.map((e,t)=>(0,r.jsx)(l.Fragment,{children:e.subColumns.map((s,l)=>(0,r.jsx)("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-l border-r border-gray-200 whitespace-nowrap min-w-[100px]",style:{borderRight:"".concat(l===e.subColumns.length-1?"2":"1","px solid ").concat(l===e.subColumns.length-1?"#9ca3af":"#e5e7eb"),borderLeft:"".concat(0===t&&0===l?"2":"1","px solid ").concat(0===t&&0===l?"#9ca3af":"#e5e7eb")},children:(0,r.jsxs)("div",{className:"relative group flex items-center",children:[(0,r.jsx)("input",{type:"text",className:"w-full text-center border-b border-gray-300 focus:outline-none focus:ring-0 focus:border-blue-500 bg-transparent text-xs",value:s.label,onChange:t=>v(e.id,s.id,t.target.value),onClick:e=>e.stopPropagation()}),e.subColumns.length>1&&(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),w(e.id,s.id,t)},className:"absolute right-0 text-red-400 opacity-0 group-hover:opacity-100 hover:text-red-600 z-10 pointer-events-auto",title:"서브 컬럼 삭제",children:"\xd7"})]})},s.id))},"".concat(e.id,"-sub")))]})]}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r bg-white",style:{width:"200px",minWidth:"200px"},children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"text",className:"border-0 p-0 focus:ring-0 focus:border-blue-500 block w-full sm:text-sm",value:e.text,onChange:t=>g(e.id,t.target.value)}),m.length>1&&(0,r.jsx)("button",{onClick:()=>y(e.id),className:"ml-2 text-red-500 hover:text-red-700",title:"행 삭제",children:"\xd7"})]})}),h.map(t=>(0,r.jsx)("td",{colSpan:t.subColumns.length,className:"px-0 py-4 whitespace-nowrap border-l border-r border-gray-200",style:{borderRight:"2px solid #9ca3af"},children:(0,r.jsx)("div",{className:"flex",children:t.subColumns.map(s=>(0,r.jsx)("div",{className:"flex-1 flex justify-center border-l first:border-l-0",children:(0,r.jsx)("input",{type:"radio",name:"row-".concat(e.id,"-col-").concat(t.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})},s.id))})},t.id))]},e.id))})]})})})}),(0,r.jsx)("div",{className:"flex justify-end items-center mt-4",children:(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"required",checked:x,onChange:e=>u(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-700",children:"필수 질문"})]})})})]})}),o=(0,l.forwardRef)((e,t)=>{let{initialQuestion:s="",initialPlaceholder:a="",initialIsRequired:i=!1,initialIsLongText:n=!1,initialMaxLength:d=100}=e;o.displayName="TextEntryEditor";let[c,x]=(0,l.useState)(s),[u,m]=(0,l.useState)(a),[p,h]=(0,l.useState)(i),[b,g]=(0,l.useState)(n),[y,f]=(0,l.useState)(d);return(0,l.useImperativeHandle)(t,()=>({getState:()=>({question:c,placeholder:u,isRequired:p,maxLength:y})})),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"질문"}),(0,r.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:c,onChange:e=>x(e.target.value),placeholder:"질문을 입력하세요"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"안내 텍스트 (선택사항)"}),(0,r.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:u,onChange:e=>m(e.target.value),placeholder:"예: 100자 이내로 입력해주세요"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"longText",checked:b,onChange:e=>g(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"longText",className:"ml-2 block text-sm text-gray-700",children:"긴 텍스트 (여러 줄 입력)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"required",checked:p,onChange:e=>h(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-700",children:"필수 질문"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("label",{htmlFor:"maxLength",className:"block text-sm font-medium text-gray-700 mr-2",children:"최대 글자수:"}),(0,r.jsx)("input",{type:"number",id:"maxLength",min:"1",max:"10000",value:y,onChange:e=>f(Number(e.target.value)),className:"w-24 p-1 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{className:"mt-4 border border-gray-200 rounded-md p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"미리보기"}),(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c||"질문 미리보기",p&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),b?(0,r.jsx)("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:u||"답변을 입력하세요",maxLength:y}):(0,r.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:u||"답변을 입력하세요",maxLength:y}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[y,"자 이내"]})]})]})]})});function c(e){let{isOpen:t,onClose:s,questions:l}=e;if(!t)return null;let a=e=>{let t=e.props;switch(e.type){case i.xi.CHECKBOX:case i.xi.MULTIPLE_CHOICE:var s;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"미리보기: 객관식 질문"}),(0,r.jsx)("p",{className:"text-gray-700",children:e.text}),(0,r.jsx)("div",{className:"space-y-2 mt-4",children:null==(s=t.options)?void 0:s.map(t=>(0,r.jsxs)("div",{className:"flex items-center py-1",children:[(0,r.jsx)("input",{type:e.type===i.xi.CHECKBOX?"checkbox":"radio",id:"preview-".concat(t.id),name:"preview-option-".concat(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"preview-".concat(t.id),className:"ml-2 text-gray-700",children:t.text})]},t.id))})]});case i.xi.SIDE_BY_SIDE:{let{rows:t=[],columns:s=[]}=e.props;if(0===t.length||0===s.length)return(0,r.jsx)("div",{className:"text-gray-500",children:"미리보기 데이터가 없습니다."});let l=s.flatMap(e=>e.subColumns.map(t=>({...t,uniqueId:"".concat(e.id,"-").concat(t.id),columnTitle:e.text})));return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"미리보기: 병렬 비교 질문"}),(0,r.jsx)("p",{className:"text-gray-700",children:e.text}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border-t border-b border-gray-200",children:[(0,r.jsxs)("thead",{className:"bg-gray-50",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-[200px] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"}),s.map(e=>(0,r.jsx)("th",{colSpan:e.subColumns.length,className:"px-3 py-2 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider",children:e.text},e.id))]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-[200px] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-nowrap",children:"항목"}),l.map(e=>(0,r.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:e.label},e.uniqueId))]})]}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-[200px] px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.text}),l.map(s=>(0,r.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("input",{type:"radio",name:"preview_".concat(e.id,"_").concat(t.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300",readOnly:!0})},"".concat(t.id,"-").concat(s.uniqueId)))]},t.id))})]})})]})}case i.xi.TEXT_ENTRY:return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"미리보기: 주관식 질문"}),(0,r.jsx)("p",{className:"text-gray-700",children:e.text}),(0,r.jsx)("textarea",{className:"w-full mt-2 p-2 border rounded-md",rows:4,placeholder:t.placeholder||"답변을 입력하세요",maxLength:t.maxLength}),t.maxLength&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 text-right",children:["최대 ",t.maxLength,"자까지 입력 가능"]})]});default:return null}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"설문조사 미리보기"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"space-y-8",children:(null==l?void 0:l.length)===0?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"추가된 질문이 없습니다."}):l.map((e,t)=>(0,r.jsxs)("div",{className:"border-b pb-6 last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:["Q",t+1,"."]}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm",children:[e.type===i.xi.MULTIPLE_CHOICE&&"복수 선택",e.type===i.xi.CHECKBOX&&"체크박스",e.type===i.xi.SIDE_BY_SIDE&&"병렬 비교",e.type===i.xi.TEXT_ENTRY&&"텍스트 답변"]}),e.isRequired&&(0,r.jsx)("span",{className:"ml-2 text-red-500 text-sm",children:"(필수)"})]}),a(e)]},e.id))}),(0,r.jsx)("div",{className:"mt-8 flex justify-end",children:(0,r.jsx)("button",{onClick:s,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"닫기"})})]})})})}let x=e=>{let t={id:(0,a.A)(),text:"새 질문",isRequired:!1};switch(e){case i.xi.MULTIPLE_CHOICE:return{...t,type:e,props:{options:[{id:(0,a.A)(),text:"옵션 1"}]}};case i.xi.SIDE_BY_SIDE:return{...t,type:e,props:{rows:[{id:(0,a.A)(),text:"항목 1"}],columns:[{id:(0,a.A)(),text:"열 1",subColumns:[{id:(0,a.A)(),label:"옵션 1"}]}]}};case i.xi.TEXT_ENTRY:return{...t,type:e,props:{maxLength:100,placeholder:""}};default:throw Error("Unsupported question type")}},u=[{id:"1",type:i.xi.MULTIPLE_CHOICE,text:"객관식 질문",isRequired:!0,props:{options:[{id:"opt1",text:"옵션 1"},{id:"opt2",text:"옵션 2"}]}},{id:"2",type:i.xi.SIDE_BY_SIDE,text:"매트릭스 질문",isRequired:!1,props:{rows:[{id:"sbs1",text:"항목 1"},{id:"sbs2",text:"항목 2"}],columns:[{id:"col1",text:"열 1",subColumns:[{id:"sub1-1",label:"옵션 1"}]},{id:"col2",text:"열 2",subColumns:[{id:"sub2-1",label:"옵션 1"}]}]}},{id:"3",type:i.xi.TEXT_ENTRY,text:"주관식 질문",isRequired:!0,props:{maxLength:100,placeholder:"답변을 입력하세요..."}}];function m(){let[e,t]=(0,l.useState)(u),[s,m]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),y=(0,l.useRef)(null),f=(0,l.useRef)(null),j=(0,l.useRef)(null),N=s=>{t([...e,x(s)])},w=e=>{m(e),h(!0)},v=e=>{var t,s,r;switch(e){case i.xi.MULTIPLE_CHOICE:return null==(t=y.current)?void 0:t.getState();case i.xi.SIDE_BY_SIDE:return null==(s=f.current)?void 0:s.getState();case i.xi.TEXT_ENTRY:return null==(r=j.current)?void 0:r.getState();default:return null}},C=(e,t)=>{let r={id:(null==s?void 0:s.id)||(0,a.A)(),text:t.question,isRequired:t.isRequired};switch(e){case i.xi.MULTIPLE_CHOICE:if("options"in t)return{...r,type:e,props:{options:t.options}};break;case i.xi.SIDE_BY_SIDE:if("rows"in t&&"columns"in t)return{...r,type:e,props:{rows:t.rows,columns:t.columns}};break;case i.xi.TEXT_ENTRY:if("maxLength"in t)return{...r,type:e,props:{maxLength:t.maxLength,placeholder:t.placeholder}}}throw Error("Invalid state for question type")};return(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"설문조사 편집기"}),(0,r.jsx)("div",{className:"space-x-2",children:(0,r.jsxs)("button",{onClick:()=>{g(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"미리보기"]})})]}),(0,r.jsx)("div",{className:"space-y-4 mb-6",children:e.map((e,t)=>(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 hover:border-blue-500 cursor-pointer",onClick:()=>w(e),children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"font-medium",children:e.text||"질문 ".concat(t+1)}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.type===i.xi.MULTIPLE_CHOICE&&"복수 선택",e.type===i.xi.CHECKBOX&&"체크박스",e.type===i.xi.SIDE_BY_SIDE&&"병렬 비교",e.type===i.xi.TEXT_ENTRY&&"텍스트 답변"]})]})},e.id))}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"질문 추가"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>N(i.xi.MULTIPLE_CHOICE),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"복수 선택 추가"}),(0,r.jsx)("button",{onClick:()=>N(i.xi.SIDE_BY_SIDE),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"병렬 비교 추가"}),(0,r.jsx)("button",{onClick:()=>N(i.xi.TEXT_ENTRY),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"텍스트 답변 추가"}),(0,r.jsx)("button",{onClick:()=>N(i.xi.CHECKBOX),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"체크박스 추가"})]})]}),p&&s&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4",children:[s.type===i.xi.MULTIPLE_CHOICE&&"복수 선택",s.type===i.xi.CHECKBOX&&"체크박스",s.type===i.xi.SIDE_BY_SIDE&&"병렬 비교",s.type===i.xi.TEXT_ENTRY&&"텍스트 답변"," ","질문 편집"]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow mb-4",children:(e=>{switch(e.type){case i.xi.MULTIPLE_CHOICE:return(0,r.jsx)(n,{ref:y,initialQuestion:e.text,initialIsRequired:e.isRequired,initialOptions:e.props.options});case i.xi.SIDE_BY_SIDE:return(0,r.jsx)(d,{ref:f,initialQuestion:e.text,initialIsRequired:e.isRequired,initialRows:e.props.rows,initialColumns:e.props.columns});case i.xi.TEXT_ENTRY:return(0,r.jsx)(o,{ref:j,initialQuestion:e.text,initialIsRequired:e.isRequired,initialPlaceholder:e.props.placeholder,initialMaxLength:e.props.maxLength});default:return null}})(s)}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>{h(!1),m(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"취소"}),(0,r.jsx)("button",{onClick:()=>{if(!s)return;let r=v(s.type);if(!r)return;let l=C(s.type,r);t(e.map(e=>e.id===s.id?{...l,id:s.id}:e)),h(!1),m(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-600",children:"저장"})]})]})})}),(0,r.jsx)(c,{isOpen:b,onClose:()=>{g(!1)},questions:e})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(12528)),_N_E=e.O()}]);